//  F_7.c
//  Упаковать 0 и 1
//  Написать функцию, которая сжимает серии массива, состоящего из единиц 
//  и нулей по следующему принципу: например, массив [0,0,0,0,1,1,1,1,1,1,1,0,0,1,1,1,1] 
//  преобразуется в [4,7,2,4] (т.к. начинается с нуля, то сразу записывается количество 
//  элементов первой серии); а массив [1,1,1,0,0,0,0,0,0,0] преобразуется в [0,3,7] 
//  (т.к. первая серия - это единицы, то первый элемент преобразованного массива 0).
//  Необходимо реализовать только одну функцию, всю программу загружать не надо. 
//  Прототип функции: int compression(int a[], int b[], int N)
//  Формат входных данных
//  Функция принимает исходный массив a[] и сжимает в массив b[], 
//  N - число элементов в массиве a[].
//  Формат результата
//  Функция возвращает число элементов сжатого массива b[]
//  Примеры
//  Входные данные
//      1 1 0 0 1 1 1 0 1 1 0 0 1 0 1 0 0 1 0 0 0 0 1 1 1 1 0 1 0 0 0 0 1 1 1 0 1 1 0 1 0 0 0 1 1 0 0 1 0 0 0 1 0 0 1 1 1 0 1 0 0 0 0 0 0 1 0 1 0 0 1 1 0 1 0 0 0 0 1 0 0 1 1 0 1 0 0 0 1 0 1 1 1 1 1 1 0 1 0 0
//  Результат работы
//      [0,2,2,3,1,2,2,1,1,1,2,1,4,4,1,1,4,3,1,2,1,1,3,2,2,1,3,1,2,3,1,1,6,1,1,1,2,2,1,1,4,1,2,2,1,1,3,1,1,6,1,1,2]
//  Входные данные
//      0 0 1 0 0 1 1 0 0 1 1 0 1 0 0 1 1 0 1 0 1 1 1 1 0 1 1 1 1 0 0 0 0 1 1 0 0 1 0 1 0 1 1 1 0 1 0 1 1 0 1 1 1 0 0 0 0 1 0 1 0 0 0 1 0 1 1 1 1 1 0 1 0 1 1 1 0 0 0 1 0 1 1 1 1 0 1 1 1 0 0 1 1 1 1 0 1 0 1 1
//  Результат работы
//      [2,1,2,2,2,2,1,1,2,2,1,1,1,4,1,4,4,2,2,1,1,1,1,3,1,1,1,2,1,3,4,1,1,1,3,1,1,5,1,1,1,3,3,1,1,4,1,3,2,4,1,1,1,2]

#include <stdio.h>
#include <stdlib.h>

int compression(int a[], int b[], int N) {
    if (N <= 0) {
        return 0;
    }

    int idx = 0;
    int i = 0;

    // Если массив начинается с 1 — первая серия — "нули", длина 0
    if (a[0] == 1) {
        b[idx++] = 0;
    }

    while (i < N) {
        int value = a[i];
        int count = 0;
        while (i < N && a[i] == value) {
            count++;
            i++;
        }
        b[idx++] = count;
    }

    return idx;
}

int main() {
    // Макс. размер входного массива — подберите по задаче (в примерах ~90–100)
    const int MAX_N = 200;
    int a[MAX_N];
    int b[MAX_N];  // сжатый массив не может быть длиннее исходного + 1

    int N = 0;
    int x;

    // Чтение целых чисел из stdin (поддерживает пробелы и переводы строк)
    while (scanf("%d", &x) == 1 && x != '.') {
        if (N >= MAX_N) {
            fprintf(stderr, "Ошибка: превышен максимальный размер массива (%d)\n", MAX_N);
            return 1;
        }
        a[N++] = x;
    }

    if (N == 0) {
        printf("[]\n");
        return 0;
    }

    int M = compression(a, b, N);

    // Вывод в формате [x1,x2,...,xM]
    printf("[");
    for (int i = 0; i < M; ++i) {
        if (i > 0) printf(",");
        printf("%d", b[i]);
    }
    printf("]\n");

    return 0;
}